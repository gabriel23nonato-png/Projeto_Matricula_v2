<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>
      {{ 'Editar Matr√≠cula' if modo=='editar' else 'Nova Matr√≠cula' }}
    </title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <style>
      .bloqueado input,
      .bloqueado select,
      .bloqueado textarea {
        pointer-events: none;
        background-color: #e9ecef;
      }
      .titulo {
        display: flex;
        align-items: center;
        gap: 8px;
      }
    </style>
  </head>

  <body class="container my-4">
    <h3 class="mb-4">
      {{ 'Editar Matr√≠cula' if modo=='editar' else 'Nova Matr√≠cula' }}
    </h3>

    {% if modo=='editar' and not edicao_habilitada %}
    <button
      class="btn btn-warning mb-3"
      type="button"
      onclick="window.location = '?editar=1'"
    >
      <i class="bi bi-unlock-fill"></i> Habilitar edi√ß√£o
    </button>
    {% endif %}

    <form
      method="POST"
      enctype="multipart/form-data"
      class="{% if modo=='editar' and not edicao_habilitada %}bloqueado{% endif %}"
    >
      <!-- ================= 1Ô∏è‚É£ IDENTIFICA√á√ÉO ================= -->
      <h5 class="titulo">
        1Ô∏è‚É£ Identifica√ß√£o do Aluno
        <i
          class="bi {% if modo=='editar' and not edicao_habilitada %}bi-lock-fill text-secondary{% else %}bi-unlock-fill text-success{% endif %}"
        ></i>
      </h5>

      <div class="row g-2">
        <div class="col-md-3">
          <input name="ra" class="form-control" placeholder="RA" />
        </div>
        <div class="col-md-6">
          <input
            name="nome_completo"
            class="form-control"
            placeholder="Nome completo"
            required
          />
        </div>
        <div class="col-md-3">
          <input
            type="date"
            name="data_nascimento"
            class="form-control"
            required
          />
        </div>

        <div class="col-md-3">
          <input
            name="rg_aluno"
            class="form-control"
            placeholder="RG (somente n√∫meros)"
          />
        </div>
        <div class="col-md-3">
          <input
            name="cpf_aluno"
            class="form-control"
            placeholder="CPF (somente n√∫meros)"
          />
        </div>
        <div class="col-md-3">
          <input
            name="cartao_sus"
            class="form-control"
            placeholder="Cart√£o SUS"
          />
        </div>
        <div class="col-md-3">
          <input
            name="certidao_nascimento"
            class="form-control"
            placeholder="Certid√£o de nascimento"
          />
        </div>

        <div class="col-md-3">
          <input name="sexo" class="form-control" placeholder="Sexo" required />
        </div>
        <div class="col-md-3">
          <input name="raca_cor" class="form-control" placeholder="Ra√ßa/Cor" />
        </div>
        <div class="col-md-3">
          <input
            name="nacionalidade"
            class="form-control"
            placeholder="Nacionalidade"
          />
        </div>
      </div>

      <p class="mt-2"><strong>üìé Uploads</strong></p>
      <div class="row g-2">
        <div class="col-md-4">
          <input type="file" name="doc_cpf" class="form-control" />
        </div>
        <div class="col-md-4">
          <input type="file" name="doc_cartao_sus" class="form-control" />
        </div>
        <div class="col-md-4">
          <input type="file" name="doc_certidao" class="form-control" />
        </div>
      </div>

      <hr />

      <!-- ================= 2Ô∏è‚É£ RESPONS√ÅVEL ================= -->
      <h5 class="titulo">
        2Ô∏è‚É£ Respons√°vel Legal
        <i
          class="bi {% if modo=='editar' and not edicao_habilitada %}bi-lock-fill text-secondary{% else %}bi-unlock-fill text-success{% endif %}"
        ></i>
      </h5>

      <div class="row g-2">
        <div class="col-md-6">
          <input
            name="nome_mae"
            class="form-control"
            placeholder="Nome da m√£e"
            required
          />
        </div>
        <div class="col-md-6">
          <input
            name="nome_pai"
            class="form-control"
            placeholder="Nome do pai"
          />
        </div>

        <div class="col-md-3">
          <input
            name="cpf_mae"
            class="form-control"
            placeholder="CPF da m√£e"
            required
          />
        </div>
        <div class="col-md-3">
          <input
            name="rg_mae"
            class="form-control"
            placeholder="RG da m√£e"
            required
          />
        </div>
        <div class="col-md-3">
          <input name="cpf_pai" class="form-control" placeholder="CPF do pai" />
        </div>
        <div class="col-md-3">
          <input name="rg_pai" class="form-control" placeholder="RG do pai" />
        </div>

        <div class="col-md-3">
          <input
            name="telefone1"
            class="form-control"
            placeholder="Telefone 1"
            required
          />
        </div>
        <div class="col-md-3">
          <input
            name="telefone2"
            class="form-control"
            placeholder="Telefone 2"
          />
        </div>
        <div class="col-md-3">
          <input
            name="telefone3"
            class="form-control"
            placeholder="Telefone 3"
          />
        </div>
        <div class="col-md-3">
          <input
            name="telefone4"
            class="form-control"
            placeholder="Telefone 4"
          />
        </div>

        <div class="col-md-6">
          <input
            name="responsavel_matricula"
            class="form-control"
            placeholder="Quem √© o respons√°vel pela matr√≠cula"
          />
        </div>
      </div>

      <p class="mt-2"><strong>üìé Uploads</strong></p>
      <div class="row g-2">
        <div class="col-md-6">
          <input type="file" name="doc_cpf_mae" class="form-control" />
        </div>
        <div class="col-md-6">
          <input type="file" name="doc_cpf_pai" class="form-control" />
        </div>
      </div>

      <hr />

      <!-- ================= 3Ô∏è‚É£ ESCOLAR ================= -->
      <h5 class="titulo">
        3Ô∏è‚É£ Informa√ß√µes Escolares
        <i
          class="bi {% if modo=='editar' and not edicao_habilitada %}bi-lock-fill text-secondary{% else %}bi-unlock-fill text-success{% endif %}"
        ></i>
      </h5>

      <div class="row g-2">
        <div class="col-md-6">
          <input
            name="pessoa1"
            class="form-control"
            placeholder="Pessoa autorizada 1 + telefone"
          />
        </div>
        <div class="col-md-6">
          <input
            name="pessoa2"
            class="form-control"
            placeholder="Pessoa autorizada 2 + telefone"
          />
        </div>
        <div class="col-md-6">
          <input
            name="pessoa3"
            class="form-control"
            placeholder="Pessoa autorizada 3 + telefone"
          />
        </div>
        <div class="col-md-6">
          <input
            name="escola_anterior"
            class="form-control"
            placeholder="Escola anterior"
          />
        </div>
      </div>

      <div class="mt-2">
        <label>Permite tirar fotos:</label><br />
        <input type="radio" name="permite_fotos" value="Sim" /> Sim
        <input type="radio" name="permite_fotos" value="N√£o" /> N√£o
      </div>

      <div class="mt-2">
        <label>Permite postar fotos (LGPD):</label><br />
        <input type="radio" name="permite_postar_fotos" value="Sim" /> Sim
        <input type="radio" name="permite_postar_fotos" value="N√£o" /> N√£o
      </div>

      <hr />

      <!-- ================= 4Ô∏è‚É£ ENDERE√áO ================= -->
      <h5 class="titulo">
        4Ô∏è‚É£ Endere√ßo
        <i
          class="bi {% if modo=='editar' and not edicao_habilitada %}bi-lock-fill text-secondary{% else %}bi-unlock-fill text-success{% endif %}"
        ></i>
      </h5>

      <div class="row g-2">
        <div class="col-md-4">
          <input
            name="logradouro"
            class="form-control"
            placeholder="Logradouro"
          />
        </div>
        <div class="col-md-2">
          <input name="numero" class="form-control" placeholder="N√∫mero" />
        </div>
        <div class="col-md-3">
          <input name="bairro" class="form-control" placeholder="Bairro" />
        </div>
        <div class="col-md-3">
          <input name="cidade" class="form-control" placeholder="Cidade" />
        </div>
        <div class="col-md-3">
          <input name="cep" class="form-control" placeholder="CEP" />
        </div>
      </div>

      <p class="mt-2"><strong>üìé Upload</strong></p>
      <input type="file" name="doc_cep" class="form-control w-50" />

      <hr />

      <!-- ================= 5Ô∏è‚É£ SA√öDE ================= -->
      <h5 class="titulo">
        5Ô∏è‚É£ Sa√∫de e Necessidades Especiais
        <i
          class="bi {% if modo=='editar' and not edicao_habilitada %}bi-lock-fill text-secondary{% else %}bi-unlock-fill text-success{% endif %}"
        ></i>
      </h5>

      <div class="row g-2">
        <div class="col-md-3">
          <input name="peso" class="form-control" placeholder="Peso" />
        </div>
        <div class="col-md-3">
          <input name="altura" class="form-control" placeholder="Altura" />
        </div>
        <div class="col-md-3">
          <input name="uniforme" class="form-control" placeholder="Uniforme" />
        </div>
        <div class="col-md-3">
          <input name="calcado" class="form-control" placeholder="Cal√ßado" />
        </div>
      </div>

      <div class="mt-2">
        Al√©rgico:
        <input type="radio" name="alergico" value="Sim" /> Sim
        <input type="radio" name="alergico" value="N√£o" /> N√£o
      </div>

      <div class="mt-2">
        Diab√©tico:
        <input type="radio" name="diabetico" value="Sim" /> Sim
        <input type="radio" name="diabetico" value="N√£o" /> N√£o
      </div>

      <div class="mt-2">
        Intolerante √† lactose:
        <input type="radio" name="lactose" value="Sim" /> Sim
        <input type="radio" name="lactose" value="N√£o" /> N√£o
      </div>

      <div class="mt-2">
        APLV:
        <input type="radio" name="aplv" value="Sim" /> Sim
        <input type="radio" name="aplv" value="N√£o" /> N√£o
      </div>

      <textarea
        name="observacoes"
        class="form-control mt-2"
        placeholder="Observa√ß√µes adicionais sobre sa√∫de ou necessidades especiais"
      ></textarea>

      <p class="mt-2"><strong>üìé Uploads</strong></p>
      <div class="row g-2">
        <div class="col-md-4">
          <input type="file" name="doc_laudo" class="form-control" />
        </div>
        <div class="col-md-4">
          <input
            type="file"
            name="doc_carteira_vacinacao"
            class="form-control"
          />
        </div>
        <div class="col-md-4">
          <input
            type="file"
            name="doc_comprovante_vacinacao"
            class="form-control"
          />
        </div>
      </div>

      <hr />

      <!-- ================= 6Ô∏è‚É£ FINANCEIRO ================= -->
      <h5 class="titulo">
        6Ô∏è‚É£ Financeiro
        <i
          class="bi {% if modo=='editar' and not edicao_habilitada %}bi-lock-fill text-secondary{% else %}bi-unlock-fill text-success{% endif %}"
        ></i>
      </h5>

      <div class="row g-2">
        <div class="col-md-4">
          <input
            name="contribuicao"
            class="form-control"
            placeholder="Quantia da contribui√ß√£o"
          />
        </div>
      </div>

      <div class="mt-2">
        Tipo da contribui√ß√£o:
        <input type="radio" name="tipo_contribuicao" value="Dinheiro" />
        Dinheiro <input type="radio" name="tipo_contribuicao" value="Pix" /> Pix
      </div>

      <hr />

      <button type="submit" class="btn btn-success mt-3">
        <i class="bi bi-save"></i> Salvar
      </button>
    </form>
  </body>
</html>
